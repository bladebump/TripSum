# TripSum æ—…ç®—

> è®©æ—…è¡Œè´¹ç”¨åˆ†æ‘Šå˜å¾—ç®€å• - ä¸“ä¸ºå°å›¢ä½“æ—…è¡Œè®¾è®¡çš„æ™ºèƒ½è®°è´¦åº”ç”¨

![Version](https://img.shields.io/badge/version-2.0.0-blue)
![License](https://img.shields.io/badge/license-MIT-green)
![Node](https://img.shields.io/badge/node-%3E%3D20.0.0-brightgreen)
![React](https://img.shields.io/badge/React-18-61dafb)
![TypeScript](https://img.shields.io/badge/TypeScript-5.0-blue)

## é¡¹ç›®ç®€ä»‹

TripSumï¼ˆæ—…ç®—ï¼‰æ˜¯ä¸€ä¸ªä¸“ä¸ºå°å›¢ä½“æ—…è¡Œè®¾è®¡çš„è´¹ç”¨åˆ†æ‘Šåº”ç”¨ã€‚å®ƒå¸®åŠ©æœ‹å‹ä»¬åœ¨æ—…è¡Œä¸­è½»æ¾è®°å½•å…±åŒæ¶ˆè´¹ï¼Œå¹¶é€šè¿‡æ™ºèƒ½ç®—æ³•å¿«é€Ÿã€å‡†ç¡®åœ°è®¡ç®—å‡ºæ¯ä¸ªäººåº”æ”¯ä»˜æˆ–æ”¶å›çš„é‡‘é¢ï¼Œå®ç°é›¶å’Œç»“ç®—ã€‚

### æ ¸å¿ƒç‰¹æ€§

#### v2.0.0 æ–°å¢åŠŸèƒ½
- **ğŸ“¨ çœŸå®ç”¨æˆ·é‚€è¯·**: å®Œæ•´çš„é‚€è¯·ç³»ç»Ÿï¼Œæ”¯æŒæ·»åŠ å’Œæ›¿æ¢ä¸¤ç§æ¨¡å¼
- **ğŸ’Œ æ¶ˆæ¯ä¸­å¿ƒ**: ç»Ÿä¸€çš„æ¶ˆæ¯ç®¡ç†ï¼Œæ”¯æŒæ‰¹é‡æ“ä½œå’Œåå¥½è®¾ç½®
- **ğŸ”” å®æ—¶é€šçŸ¥**: WebSocketæ¨é€ï¼Œæ¶ˆæ¯ã€é‚€è¯·ã€è´¹ç”¨å˜æ›´å®æ—¶é€šçŸ¥
- **ğŸ¯ ç»†ç²’åº¦æƒé™**: ç®¡ç†å‘˜ä¸æˆå‘˜è§’è‰²åˆ†ç¦»ï¼ŒåŠŸèƒ½æƒé™ç²¾ç¡®æ§åˆ¶
- **ğŸ“¡ æ¶ˆæ¯é˜Ÿåˆ—**: Bull + Rediså¼‚æ­¥æ¶ˆæ¯å¤„ç†ï¼Œ13ä¸ªä¸“é—¨å¤„ç†å™¨
- **ğŸ” å®‰å…¨å¢å¼º**: é‚€è¯·é˜²é‡å¤ã€è¿‡æœŸç®¡ç†ã€å¹¶å‘æ§åˆ¶

#### æ ¸å¿ƒåŠŸèƒ½
- **ğŸ’° åŸºé‡‘æ± æ¨¡å¼**: æ”¯æŒåŸºé‡‘é¢„æ”¶å’Œç´¯è®¡ç¼´çº³ï¼Œå®æ—¶è¿½è¸ªèµ„é‡‘æ± çŠ¶æ€
- **ğŸ’ ç²¾ç¡®é‡‘é¢è®¡ç®—**: Decimal.jså¤„ç†æ‰€æœ‰é‡‘é¢ï¼Œå½»åº•è§£å†³æµ®ç‚¹è¯¯å·®
- **ğŸ¤– æ™ºèƒ½è®°è´¦**: AIè‡ªç„¶è¯­è¨€è§£æï¼Œç²¾å‡†è¯†åˆ«åŸºé‡‘ç¼´çº³ã€æ¶ˆè´¹å’Œæ”¶å…¥
- **ğŸ§® æ™ºèƒ½è®¡ç®—å™¨**: AIé›†æˆFunction Callingè®¡ç®—å·¥å…·ï¼Œç¡®ä¿é‡‘é¢ç²¾ç¡®
- **ğŸ‘¥ ç»Ÿä¸€æˆå‘˜ç³»ç»Ÿ**: è™šæ‹Ÿæˆå‘˜ä¸çœŸå®ç”¨æˆ·å®Œå…¨ä¸€è‡´çš„åŠŸèƒ½ä½“éªŒ
- **ğŸ”‘ ç»Ÿä¸€æ ‡è¯†æ¶æ„**: memberIdä½œä¸ºæ ¸å¿ƒä¸šåŠ¡æ ‡è¯†ï¼ŒuserIdä»…ç”¨äºè®¤è¯
- **ğŸ“Š å®æ—¶ä½™é¢**: å…¬å¼åŒ–è®¡ç®—ï¼ˆç¼´çº³+å«ä»˜-åˆ†æ‘Š=ä½™é¢ï¼‰
- **ğŸ”§ æ¨¡å—åŒ–AI**: æ„å›¾ä¼˜å…ˆçš„è§£ææ¶æ„ï¼Œæ”¯æŒè´¹ç”¨/æˆå‘˜/æ··åˆ/ç»“ç®—ç­‰å¤šç§æ„å›¾
- **ğŸ“± ä¼˜åŒ–ç•Œé¢**: ç›´è§‚çš„æ“ä½œæŒ‰é’®ç½‘æ ¼ï¼Œæ›¿ä»£éšè”½çš„äº¤äº’æ–¹å¼
- **ğŸ“ˆ æ•°æ®ç»Ÿè®¡**: å¯è§†åŒ–å±•ç¤ºæ¶ˆè´¹è¶‹åŠ¿å’Œåˆ†ç±»å æ¯”
- **âš¡ å®æ—¶åŒæ­¥**: WebSocketå®ç°å¤šäººå®æ—¶åä½œ

## æŠ€æœ¯æ ˆ

### å‰ç«¯
- **React 18** + **TypeScript 5** - ç°ä»£åŒ–å‰ç«¯æ¡†æ¶
- **Ant Design Mobile 5** - ç§»åŠ¨ç«¯UIç»„ä»¶åº“
- **Zustand** - è½»é‡çº§çŠ¶æ€ç®¡ç†
- **Vite** - å¿«é€Ÿçš„æ„å»ºå·¥å…·
- **Recharts** - æ•°æ®å¯è§†åŒ–å›¾è¡¨

### åç«¯
- **Node.js 20** + **Express** - åç«¯æœåŠ¡æ¡†æ¶
- **Prisma ORM** - ç°ä»£åŒ–æ•°æ®åº“å·¥å…·
- **PostgreSQL 15** - ä¸»æ•°æ®åº“
- **Redis 7** - ç¼“å­˜å’Œä¼šè¯å­˜å‚¨
- **Socket.io** - WebSocketå®æ—¶é€šä¿¡
- **Bull** - åŸºäºRedisçš„æ¶ˆæ¯é˜Ÿåˆ— (v2.0.0æ–°å¢)
- **JWT** - å®‰å…¨è®¤è¯

### AIé›†æˆ
- **OpenAI GPT-4** / **Claude API** - å¤§è¯­è¨€æ¨¡å‹
- è‡ªç„¶è¯­è¨€å¤„ç† - æ™ºèƒ½è§£æè´¦å•æè¿°
- æ™ºèƒ½åˆ†ç±»ç³»ç»Ÿ - è‡ªåŠ¨å½’ç±»æ”¯å‡º
- åˆ†æ‘Šå»ºè®® - AIè¾…åŠ©è´¹ç”¨åˆ†é…

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 20.0.0
- PostgreSQL >= 15
- Redis >= 7
- Docker & Docker Compose (å¯é€‰)
- npm æˆ– pnpm

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone git@github.com:bladebump/TripSum.git
cd TripSum
```

2. **å®‰è£…ä¾èµ–**
```bash
# å®‰è£…å‰ç«¯ä¾èµ–
cd frontend
npm install

# å®‰è£…åç«¯ä¾èµ–
cd ../backend
npm install
```

3. **é…ç½®ç¯å¢ƒå˜é‡**
```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp backend/.env.example backend/.env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„é…ç½®
```

4. **åˆå§‹åŒ–æ•°æ®åº“**
```bash
cd backend
npx prisma migrate dev
npx prisma db seed
```

5. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
```bash
# å¯åŠ¨åç«¯æœåŠ¡ï¼ˆæ–°ç»ˆç«¯ï¼‰
cd backend
npm run dev

# å¯åŠ¨å‰ç«¯æœåŠ¡ï¼ˆæ–°ç»ˆç«¯ï¼‰
cd frontend
npm run dev
```

è®¿é—® http://localhost:5173 å¼€å§‹ä½¿ç”¨ï¼

## é¡¹ç›®ç»“æ„

```
TripSum/
â”œâ”€â”€ frontend/          # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/    # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/        # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ services/     # APIæœåŠ¡
â”‚   â”‚   â””â”€â”€ stores/       # çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ backend/           # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ controllers/  # æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ models/       # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ routes/       # è·¯ç”±
â”‚   â”‚   â””â”€â”€ services/     # ä¸šåŠ¡é€»è¾‘
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ docs/              # é¡¹ç›®æ–‡æ¡£
â””â”€â”€ README.md
```

## åŠŸèƒ½ä»‹ç»

### åŸºé‡‘ç®¡ç†ï¼ˆåŒæ¨¡å¼æ”¯ä»˜ç³»ç»Ÿï¼‰
- **åŸºé‡‘ç¼´çº³**: æˆå‘˜é¢„å…ˆç¼´çº³èµ„é‡‘åˆ°å›¢é˜ŸåŸºé‡‘æ± 
- **åŒé‡æ”¯ä»˜æ¨¡å¼**: 
  - ç®¡ç†å‘˜ä»˜æ¬¾ = åŸºé‡‘æ± æ”¯ä»˜ï¼ˆé»˜è®¤ï¼‰
  - éç®¡ç†å‘˜ä»˜æ¬¾ = ä¸ªäººå«ä»˜ï¼ˆéœ€è¦ä»åŸºé‡‘æ± æŠ¥é”€ï¼‰
- **æ™ºèƒ½è¯†åˆ«**: AIè‡ªåŠ¨è¯†åˆ«ä»˜æ¬¾äººï¼Œåˆ¤æ–­æ”¯ä»˜æ¥æº
- **ä½™é¢è®¡ç®—**: å®æ—¶è®¡ç®—æ¯äººä½™é¢ = ç¼´çº³ + å«ä»˜ - åº”åˆ†æ‘Š
- **åŸºé‡‘æ± ç®¡ç†**: åŸºé‡‘æ± å¯ä¸ºè´Ÿæ•°ï¼Œè¡¨ç¤ºé€æ”¯çŠ¶æ€
- **æ™ºèƒ½ç»“ç®—**: è‡ªåŠ¨è®¡ç®—æœ€ç»ˆåº”æ”¶/åº”ä»˜é‡‘é¢

### è¡Œç¨‹ç®¡ç†
- åˆ›å»ºæ—…è¡Œè´¦æœ¬ï¼Œè®¾ç½®åˆå§‹åŸºé‡‘
- é‚€è¯·æœ‹å‹åŠ å…¥ï¼Œå…±åŒç®¡ç†
- æ”¯æŒå¤šä¸ªè¡Œç¨‹å¹¶è¡Œç®¡ç†
- å®æ—¶æ˜¾ç¤ºåŸºé‡‘æ± æ€»é¢

### æ”¯å‡ºè®°å½•
- å¿«é€Ÿæ·»åŠ æ¶ˆè´¹è®°å½•
- ä¸Šä¼ å‡­è¯ç…§ç‰‡
- è‡ªå®šä¹‰åˆ†æ‘Šæ–¹å¼ï¼ˆå¹³å‡/è‡ªå®šä¹‰/ç™¾åˆ†æ¯”ï¼‰
- AIæ™ºèƒ½è¯†åˆ«å‚ä¸è€…å’Œé‡‘é¢

### æ™ºèƒ½åˆ†æ
- AIè§£æè‡ªç„¶è¯­è¨€æè¿°
- è‡ªåŠ¨è¯†åˆ«å‚ä¸è€…å’Œé‡‘é¢
- æ™ºèƒ½æ¶ˆè´¹åˆ†ç±»

### ç»“ç®—åŠŸèƒ½
- å®æ—¶è®¡ç®—æ¯äººä½™é¢
- ä¼˜åŒ–å€ºåŠ¡å…³ç³»ï¼Œå‡å°‘äº¤æ˜“æ¬¡æ•°
- ä¸€é”®ç”Ÿæˆç»“ç®—æ–¹æ¡ˆ

## APIæ–‡æ¡£

APIæ–‡æ¡£å·²æŒ‰åŠŸèƒ½æ¨¡å—æ‹†åˆ†ï¼Œä¾¿äºæŸ¥é˜…å’Œç»´æŠ¤ï¼š

- [APIæ€»è§ˆ](./docs/API_OVERVIEW.md) - åŸºç¡€ä¿¡æ¯ã€é€šç”¨è§„èŒƒ
- [è®¤è¯æ¥å£](./docs/API_AUTH.md) - æ³¨å†Œã€ç™»å½•ã€Tokenç®¡ç†
- [è¡Œç¨‹ç®¡ç†](./docs/API_TRIP.md) - è¡Œç¨‹å’Œæˆå‘˜ç®¡ç†
- [æ”¯å‡ºç®¡ç†](./docs/API_EXPENSE.md) - è´¹ç”¨è®°å½•å’ŒæŸ¥è¯¢
- [ç»Ÿè®¡ç»“ç®—](./docs/API_STATISTICS.md) - ç»Ÿè®¡åˆ†æå’Œç»“ç®—
- [AIåŠŸèƒ½](./docs/API_AI.md) - æ™ºèƒ½è®°è´¦å’Œè‡ªç„¶è¯­è¨€å¤„ç†

## å¼€å‘æŒ‡å—

### è¿è¡Œæµ‹è¯•
```bash
# å‰ç«¯æµ‹è¯•
cd frontend
npm run test

# åç«¯æµ‹è¯•
cd backend
npm run test
```

### ä»£ç è§„èŒƒ
```bash
# è¿è¡Œä»£ç æ£€æŸ¥
npm run lint

# è‡ªåŠ¨ä¿®å¤æ ¼å¼é—®é¢˜
npm run lint:fix
```

### æ„å»ºéƒ¨ç½²
```bash
# æ„å»ºå‰ç«¯
cd frontend
npm run build

# æ„å»ºåç«¯
cd backend
npm run build
```

## å¼€å‘ç¯å¢ƒ

### å¿«é€Ÿå¯åŠ¨

```bash
# 1. å…‹éš†é¡¹ç›®
git clone <your-repo-url>
cd TripSum

# 2. å®‰è£…ä¾èµ–
cd backend && npm install
cd ../frontend && npm install

# 3. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example backend/.env
# ç¼–è¾‘ backend/.env è®¾ç½®æ•°æ®åº“è¿æ¥ç­‰

# 4. å‡†å¤‡æ•°æ®åº“ï¼ˆé€‰æ‹©ä¸€ç§æ–¹å¼ï¼‰
# æ–¹å¼1: æœ¬åœ°å®‰è£…PostgreSQLå’ŒRedis
# æ–¹å¼2: ä½¿ç”¨äº‘æ•°æ®åº“æœåŠ¡
# æ–¹å¼3: Dockeræœ¬åœ°æ•°æ®åº“æœåŠ¡ï¼ˆå¯é€‰ï¼‰

# 5. è¿è¡Œè¿ç§»å’Œç§å­æ•°æ®
cd backend
npx prisma migrate dev
npx prisma db seed

# 6. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
# åç«¯ï¼ˆç»ˆç«¯1ï¼‰
cd backend && npm run dev

# å‰ç«¯ï¼ˆç»ˆç«¯2ï¼‰
cd frontend && npm run dev
```

### æ•°æ®åº“é…ç½®é€‰é¡¹

**æ–¹å¼1: æœ¬åœ°å®‰è£…**
```bash
# Ubuntu/Debian
sudo apt install postgresql redis-server

# macOS
brew install postgresql redis

# é…ç½®æ•°æ®åº“
sudo -u postgres createdb tripsum
sudo -u postgres createuser tripsum_user
```

**æ–¹å¼2: ä½¿ç”¨äº‘æœåŠ¡**
- PostgreSQL: AWS RDS, Google Cloud SQL, é˜¿é‡Œäº‘RDSç­‰
- Redis: AWS ElastiCache, é˜¿é‡Œäº‘Redisç­‰

**æ–¹å¼3: Dockeræœ¬åœ°æœåŠ¡ï¼ˆå¯é€‰ï¼‰**
```bash
# ä»…å¯åŠ¨æ•°æ®åº“æœåŠ¡ç”¨äºå¼€å‘
docker run -d --name tripsum-postgres -p 5432:5432 -e POSTGRES_DB=tripsum -e POSTGRES_USER=tripsum_user -e POSTGRES_PASSWORD=tripsum_password postgres:15-alpine
docker run -d --name tripsum-redis -p 6379:6379 redis:7-alpine
```

## ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

### ä¸€é”®éƒ¨ç½²ï¼ˆæ¨èï¼‰

```bash
# 1. å…‹éš†é¡¹ç›®
git clone <your-repo-url>
cd TripSum

# 2. é…ç½®ç”Ÿäº§ç¯å¢ƒ
cp .env.example .env
nano .env  # ç¼–è¾‘é…ç½®

# å¿…é¡»ä¿®æ”¹çš„é…ç½®é¡¹ï¼š
# NODE_ENV=production
# JWT_SECRET=your-super-secure-jwt-secret
# POSTGRES_PASSWORD=your-strong-password  
# CLIENT_URL=http://your-server-ip
# VITE_API_URL=http://your-server-ip/api
# OPENAI_API_KEY=your-openai-api-key

# 3. é¦–æ¬¡éƒ¨ç½²ï¼ˆå…¨æ–°å®‰è£…ï¼‰
./manage.sh init

# æˆ–è€…å¸¸è§„éƒ¨ç½²ï¼ˆæ›´æ–°ä»£ç ï¼‰
./manage.sh deploy
```

### ç®¡ç†å‘½ä»¤

```bash
# éƒ¨ç½²å‘½ä»¤
./manage.sh init        # é¦–æ¬¡éƒ¨ç½²ï¼ˆæ¸…ç†å¹¶åˆå§‹åŒ–ï¼‰
./manage.sh deploy      # å®Œæ•´éƒ¨ç½²ï¼ˆå« git pullï¼‰
./manage.sh quick       # å¿«é€Ÿéƒ¨ç½²ï¼ˆä¸æ‹‰å–ä»£ç ï¼‰

# æœåŠ¡ç®¡ç†
./manage.sh status      # æŸ¥çœ‹æœåŠ¡çŠ¶æ€
./manage.sh restart     # é‡å¯æ‰€æœ‰æœåŠ¡
./manage.sh restart nginx  # é‡å¯ç‰¹å®šæœåŠ¡
./manage.sh stop        # åœæ­¢æ‰€æœ‰æœåŠ¡

# æ—¥å¿—æŸ¥çœ‹
./manage.sh logs        # æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—
./manage.sh logs backend  # æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ—¥å¿—

# æ•°æ®ç®¡ç†
./manage.sh backup      # å¤‡ä»½æ•°æ®
./manage.sh clean       # æ¸…ç†æ‰€æœ‰æ•°æ®ï¼ˆå±é™©ï¼‰

# å¸®åŠ©
./manage.sh help        # æŸ¥çœ‹å¸®åŠ©
```

### éƒ¨ç½²ç‰¹ç‚¹
- âœ… **æ”¯æŒIPåœ°å€ç›´æ¥è®¿é—®**ï¼Œæ— éœ€åŸŸå
- âœ… **è‡ªåŠ¨GitåŒæ­¥**ï¼Œéƒ¨ç½²æ—¶è‡ªåŠ¨æ‹‰å–æœ€æ–°ä»£ç 
- âœ… ç®€åŒ–é…ç½®ï¼Œåªéœ€ä¸€ä¸ªç¯å¢ƒæ–‡ä»¶
- âœ… ç§»é™¤MinIOï¼ŒèŠ‚çœèµ„æº
- âœ… Nginxåå‘ä»£ç†å’Œé™æ€èµ„æºç¼“å­˜
- âœ… å¥åº·æ£€æŸ¥å’Œè‡ªåŠ¨é‡å¯
- âœ… æ•°æ®æŒä¹…åŒ–å­˜å‚¨å’Œå¤‡ä»½

### å¸¸è§é—®é¢˜

**Q: é¦–æ¬¡éƒ¨ç½²å¤±è´¥ï¼Œæç¤ºæ•°æ®åº“é”™è¯¯ï¼Ÿ**
```bash
# ä½¿ç”¨ init å‘½ä»¤è¿›è¡Œé¦–æ¬¡éƒ¨ç½²
./manage.sh init

# æˆ–è€…å…ˆæ¸…ç†å†éƒ¨ç½²
./manage.sh clean
./manage.sh init
```

**Q: æ— æ³•é€šè¿‡IPè®¿é—®ï¼Ÿ**
```bash
# æ£€æŸ¥é˜²ç«å¢™
sudo ufw allow 80
sudo ufw allow 443

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
./manage.sh status
```

**Q: APIè¯·æ±‚å¤±è´¥ï¼Ÿ**
```bash
# æµ‹è¯•APIå¥åº·æ£€æŸ¥
curl http://your-server-ip/health

# æ£€æŸ¥åç«¯æ—¥å¿—
./manage.sh logs backend
```

**Q: å¦‚ä½•æ›´æ–°é¡¹ç›®ï¼Ÿ**
```bash
# å¸¸è§„æ›´æ–°ï¼ˆè‡ªåŠ¨git pull + é‡æ–°éƒ¨ç½²ï¼‰
./manage.sh deploy

# å¿«é€Ÿæ›´æ–°ï¼ˆä¸æ‹‰å–ä»£ç ï¼‰
./manage.sh quick
```

**Q: æ•°æ®åº“è¿ç§»é”™è¯¯ P3005ï¼Ÿ**
```bash
# è¿™è¡¨ç¤ºæ•°æ®åº“éç©ºä½†ç¼ºå°‘è¿ç§»å†å²
# ä½¿ç”¨ init å‘½ä»¤é‡æ–°åˆå§‹åŒ–
./manage.sh init
```

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## é¡¹ç›®æˆªå›¾

### ç§»åŠ¨ç«¯ç•Œé¢
- ğŸ“± å®Œç¾é€‚é…æ‰‹æœºå±å¹•
- ğŸ‘† æ”¯æŒæ‰‹åŠ¿æ“ä½œ
- ğŸ¨ ç²¾ç¾çš„UIè®¾è®¡

## ç‰¹è‰²åŠŸèƒ½

### ğŸ¤– AIæ™ºèƒ½è§£æ
åŸºäºæ¨¡å—åŒ–æ„å›¾è¯†åˆ«æ¶æ„ï¼Œæ”¯æŒå¤æ‚åœºæ™¯ï¼š

**æ”¯æŒçš„æ„å›¾ç±»å‹ï¼š**
- **åŸºé‡‘ç¼´çº³**: "æ¯äººä¸Šå­˜5000"ã€"å¤§å®¶éƒ½ç¼´çº³åŸºé‡‘1000"
- **è´¹ç”¨è®°å½•**: "æ˜¨æ™šåƒé¥­èŠ±äº†300å…ƒï¼Œæˆ‘å’Œå¼ ä¸‰æå››ä¸€èµ·"
- **æˆå‘˜ç®¡ç†**: "æ·»åŠ å°æ˜å’Œå°çº¢ä¸¤ä¸ªæˆå‘˜"
- **æ··åˆæ„å›¾**: "å’Œæ–°æœ‹å‹ç‹äº”ä¸€èµ·æ‰“è½¦50å…ƒ" (è‡ªåŠ¨è¯†åˆ«æ–°æˆå‘˜+è®°è´¦)
- **ç»“ç®—æŸ¥è¯¢**: "çœ‹çœ‹è°æ¬ è°é’±"

**AIè‡ªåŠ¨è¯†åˆ«ï¼š**
- åŸºé‡‘ç¼´çº³é‡‘é¢ï¼ˆç´¯è®¡æ¨¡å¼ï¼‰
- æ¶ˆè´¹é‡‘é¢å’Œç±»å‹
- å‚ä¸äººå‘˜ï¼ˆè™šæ‹Ÿæˆå‘˜=çœŸå®ç”¨æˆ·ï¼‰
- æ¶ˆè´¹ç±»åˆ«å’Œåˆ†æ‘Šæ–¹å¼
- å¤æ‚è¯­å¢ƒä¸‹çš„å¤šé‡æ„å›¾

### ğŸ“Š å¯è§†åŒ–ç»Ÿè®¡
- é¥¼å›¾å±•ç¤ºæ”¯å‡ºåˆ†ç±»å æ¯”
- æŸ±çŠ¶å›¾å¯¹æ¯”æˆå‘˜æ”¯ä»˜æƒ…å†µ
- å®æ—¶ä½™é¢è®¡ç®—ï¼ˆç¼´çº³+å«ä»˜-åˆ†æ‘Šï¼‰
- å€ºåŠ¡å…³ç³»æ¸…æ™°å±•ç¤º

### ğŸ’° æ™ºèƒ½ç»“ç®—
- ä¼˜åŒ–å€ºåŠ¡å…³ç³»ï¼Œå‡å°‘äº¤æ˜“æ¬¡æ•°
- ä¸€é”®ç”Ÿæˆç»“ç®—æ–¹æ¡ˆ
- æ”¯æŒå¤šç§ç»“ç®—æ–¹å¼
- è™šæ‹Ÿæˆå‘˜ä¸çœŸå®ç”¨æˆ·å¹³ç­‰å‚ä¸

## é¡¹ç›®æ¶æ„

```
TripSum/
â”œâ”€â”€ .env.example       # ç¯å¢ƒå˜é‡é…ç½®æ¨¡æ¿
â”œâ”€â”€ docker-compose.yml # ç”Ÿäº§ç¯å¢ƒDockeré…ç½®
â”œâ”€â”€ manage.sh          # ç”Ÿäº§ç¯å¢ƒç®¡ç†è„šæœ¬
â”œâ”€â”€ frontend/          # Reactå‰ç«¯åº”ç”¨
â”œâ”€â”€ backend/           # Expressåç«¯æœåŠ¡
â”œâ”€â”€ database/          # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â””â”€â”€ docker/            # Nginxç­‰Dockeré…ç½®æ–‡ä»¶
```

## è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

### å¼€å‘è§„èŒƒ
- ä½¿ç”¨ TypeScript è¿›è¡Œç±»å‹å®‰å…¨å¼€å‘
- éµå¾ª ESLint ä»£ç è§„èŒƒ
- æäº¤å‰è¿è¡Œæµ‹è¯•
- ä¿æŒä»£ç ç®€æ´å¯è¯»

## æŠ€æœ¯æ”¯æŒ

é‡åˆ°é—®é¢˜ï¼Ÿ
- ğŸ“– æŸ¥çœ‹é¡¹ç›®æ–‡æ¡£
- ğŸ› æäº¤[Issue](https://github.com/bladebump/TripSum/issues)
- ğŸ’¬ åŠ å…¥è®¨è®º

## æ›´æ–°æ—¥å¿—

è¯¦ç»†çš„ç‰ˆæœ¬æ›´æ–°å†å²è¯·æŸ¥çœ‹ [CHANGELOG.md](./CHANGELOG.md)

## è”ç³»æ–¹å¼

- é¡¹ç›®ä¸»é¡µ: [https://github.com/bladebump/TripSum](https://github.com/bladebump/TripSum)
- Issueè¿½è¸ª: [https://github.com/bladebump/TripSum/issues](https://github.com/bladebump/TripSum/issues)

## æŠ€æœ¯æ¶æ„

### æ ¸å¿ƒè®¾è®¡åŸåˆ™
- **memberIdä¼˜å…ˆ**: ä¸šåŠ¡é€»è¾‘ç»Ÿä¸€ä½¿ç”¨memberIdï¼ŒuserIdä»…ç”¨äºè®¤è¯
- **ç®¡ç†å‘˜ä¸­å¿ƒ**: åŸºé‡‘ç®¡ç†å’Œç»“ç®—é€šè¿‡ç®¡ç†å‘˜èŠ‚ç‚¹ç»Ÿä¸€å¤„ç†
- **è™šæ‹Ÿæˆå‘˜å¹³ç­‰**: è™šæ‹Ÿæˆå‘˜ä¸çœŸå®ç”¨æˆ·äº«æœ‰å®Œå…¨ä¸€è‡´çš„åŠŸèƒ½
- **APIç²¾ç®€**: ä»28ä¸ªæ¥å£ä¼˜åŒ–è‡³20ä¸ªï¼Œæå‡ç»´æŠ¤æ€§
- **å®æ—¶åŒæ­¥**: Socket.ioå®ç°å¤šäººåä½œå’Œæ•°æ®åŒæ­¥

### æ•°æ®æµæ¶æ„
```
ç”¨æˆ·æ“ä½œ â†’ å‰ç«¯Store â†’ APIæœåŠ¡ â†’ ä¸šåŠ¡Service â†’ Prisma ORM â†’ PostgreSQL
     â†‘                                                          â†“
 WebSocket â† Socket.io â† å®æ—¶æ¨é€ â† æ•°æ®å˜æ›´äº‹ä»¶ â† Redisç¼“å­˜
```

### æµ‹è¯•ç­–ç•¥
- **å•å…ƒæµ‹è¯•**: Jest(åç«¯) + Vitest(å‰ç«¯)
- **é›†æˆæµ‹è¯•**: å®Œæ•´ä¸šåŠ¡æµç¨‹æµ‹è¯•
- **çœŸå®æœåŠ¡**: é¿å…è¿‡åº¦Mockï¼Œä½¿ç”¨çœŸå®æ•°æ®åº“å’ŒæœåŠ¡

## è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼

ç‰¹åˆ«æ„Ÿè°¢ï¼š
- React + TypeScript ç”Ÿæ€æä¾›çš„å¼ºå¤§åŸºç¡€
- Ant Design Mobile çš„ä¼˜ç§€ç§»åŠ¨ç«¯ç»„ä»¶
- Prisma ORM çš„ç°ä»£åŒ–æ•°æ®åº“æ“ä½œ
- AIæ¨¡å‹æä¾›çš„æ™ºèƒ½è§£æèƒ½åŠ›

---

Made with â¤ï¸ by [bladebump](https://github.com/bladebump)