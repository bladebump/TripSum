# TripSum æ—…ç®—

> è®©æ—…è¡Œè´¹ç”¨åˆ†æ‘Šå˜å¾—ç®€å• - ä¸“ä¸ºå°å›¢ä½“æ—…è¡Œè®¾è®¡çš„æ™ºèƒ½è®°è´¦åº”ç”¨

![Version](https://img.shields.io/badge/version-1.0.0-blue)
![License](https://img.shields.io/badge/license-MIT-green)
![Node](https://img.shields.io/badge/node-%3E%3D20.0.0-brightgreen)
![React](https://img.shields.io/badge/React-18-61dafb)
![TypeScript](https://img.shields.io/badge/TypeScript-5.0-blue)

## é¡¹ç›®ç®€ä»‹

TripSumï¼ˆæ—…ç®—ï¼‰æ˜¯ä¸€ä¸ªä¸“ä¸ºå°å›¢ä½“æ—…è¡Œè®¾è®¡çš„è´¹ç”¨åˆ†æ‘Šåº”ç”¨ã€‚å®ƒå¸®åŠ©æœ‹å‹ä»¬åœ¨æ—…è¡Œä¸­è½»æ¾è®°å½•å…±åŒæ¶ˆè´¹ï¼Œå¹¶é€šè¿‡æ™ºèƒ½ç®—æ³•å¿«é€Ÿã€å‡†ç¡®åœ°è®¡ç®—å‡ºæ¯ä¸ªäººåº”æ”¯ä»˜æˆ–æ”¶å›çš„é‡‘é¢ï¼Œå®ç°é›¶å’Œç»“ç®—ã€‚

### æ ¸å¿ƒç‰¹æ€§

- **ğŸ¤– æ™ºèƒ½è®°è´¦**: AIè‡ªç„¶è¯­è¨€è§£æè´¦å•ï¼Œæ”¯æŒå¤šäººåˆ†æ‘Šå’Œå¤æ‚æ„å›¾è¯†åˆ«
- **ğŸ‘¥ è™šæ‹Ÿæˆå‘˜**: æ”¯æŒæ·»åŠ æœªæ³¨å†Œç”¨æˆ·å‚ä¸è´¹ç”¨åˆ†æ‘Šè®¡ç®—
- **ğŸ“Š å®æ—¶è®¡ç®—**: è‡ªåŠ¨è®¡ç®—æ¯äººä½™é¢ï¼Œä¼˜åŒ–å€ºåŠ¡å…³ç³»æ˜¾ç¤º
- **ğŸ”§ æ¨¡å—åŒ–AI**: æ„å›¾ä¼˜å…ˆçš„è§£ææ¶æ„ï¼Œæ”¯æŒè´¹ç”¨/æˆå‘˜/æ··åˆ/ç»“ç®—ç­‰å¤šç§æ„å›¾
- **ğŸ“± ä¼˜åŒ–ç•Œé¢**: ç›´è§‚çš„æ“ä½œæŒ‰é’®ç½‘æ ¼ï¼Œæ›¿ä»£éšè”½çš„äº¤äº’æ–¹å¼
- **ğŸ›¡ï¸ æƒé™ç®¡ç†**: åŸºäºè§’è‰²çš„åŠŸèƒ½æ˜¾ç¤ºï¼Œç®¡ç†å‘˜ä¸“å±åŠŸèƒ½
- **ğŸ“ˆ æ•°æ®ç»Ÿè®¡**: å¯è§†åŒ–å±•ç¤ºæ¶ˆè´¹è¶‹åŠ¿å’Œåˆ†ç±»å æ¯”
- **âš¡ å®æ—¶åŒæ­¥**: WebSocketå®ç°å¤šäººå®æ—¶åä½œ

## æŠ€æœ¯æ ˆ

### å‰ç«¯
- **React 18** + **TypeScript 5** - ç°ä»£åŒ–å‰ç«¯æ¡†æ¶
- **Ant Design Mobile 5** - ç§»åŠ¨ç«¯UIç»„ä»¶åº“
- **Zustand** - è½»é‡çº§çŠ¶æ€ç®¡ç†
- **Vite** - å¿«é€Ÿçš„æ„å»ºå·¥å…·
- **Recharts** - æ•°æ®å¯è§†åŒ–å›¾è¡¨

### åç«¯
- **Node.js 20** + **Express** - åç«¯æœåŠ¡æ¡†æ¶
- **Prisma ORM** - ç°ä»£åŒ–æ•°æ®åº“å·¥å…·
- **PostgreSQL 15** - ä¸»æ•°æ®åº“
- **Redis 7** - ç¼“å­˜å’Œä¼šè¯å­˜å‚¨
- **Socket.io** - WebSocketå®æ—¶é€šä¿¡
- **JWT** - å®‰å…¨è®¤è¯

### AIé›†æˆ
- **OpenAI GPT-4** / **Claude API** - å¤§è¯­è¨€æ¨¡å‹
- è‡ªç„¶è¯­è¨€å¤„ç† - æ™ºèƒ½è§£æè´¦å•æè¿°
- æ™ºèƒ½åˆ†ç±»ç³»ç»Ÿ - è‡ªåŠ¨å½’ç±»æ”¯å‡º
- åˆ†æ‘Šå»ºè®® - AIè¾…åŠ©è´¹ç”¨åˆ†é…

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 20.0.0
- PostgreSQL >= 15
- Redis >= 7
- Docker & Docker Compose (å¯é€‰)
- npm æˆ– pnpm

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone git@github.com:bladebump/TripSum.git
cd TripSum
```

2. **å®‰è£…ä¾èµ–**
```bash
# å®‰è£…å‰ç«¯ä¾èµ–
cd frontend
npm install

# å®‰è£…åç«¯ä¾èµ–
cd ../backend
npm install
```

3. **é…ç½®ç¯å¢ƒå˜é‡**
```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp backend/.env.example backend/.env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„é…ç½®
```

4. **åˆå§‹åŒ–æ•°æ®åº“**
```bash
cd backend
npx prisma migrate dev
npx prisma db seed
```

5. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
```bash
# å¯åŠ¨åç«¯æœåŠ¡ï¼ˆæ–°ç»ˆç«¯ï¼‰
cd backend
npm run dev

# å¯åŠ¨å‰ç«¯æœåŠ¡ï¼ˆæ–°ç»ˆç«¯ï¼‰
cd frontend
npm run dev
```

è®¿é—® http://localhost:5173 å¼€å§‹ä½¿ç”¨ï¼

## é¡¹ç›®ç»“æ„

```
TripSum/
â”œâ”€â”€ frontend/          # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/    # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/        # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ services/     # APIæœåŠ¡
â”‚   â”‚   â””â”€â”€ stores/       # çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ backend/           # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ controllers/  # æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ models/       # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ routes/       # è·¯ç”±
â”‚   â”‚   â””â”€â”€ services/     # ä¸šåŠ¡é€»è¾‘
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ docs/              # é¡¹ç›®æ–‡æ¡£
â””â”€â”€ README.md
```

## åŠŸèƒ½ä»‹ç»

### è¡Œç¨‹ç®¡ç†
- åˆ›å»ºæ—…è¡Œè´¦æœ¬ï¼Œè®¾ç½®åˆå§‹åŸºé‡‘
- é‚€è¯·æœ‹å‹åŠ å…¥ï¼Œå…±åŒç®¡ç†
- æ”¯æŒå¤šä¸ªè¡Œç¨‹å¹¶è¡Œç®¡ç†

### æ”¯å‡ºè®°å½•
- å¿«é€Ÿæ·»åŠ æ¶ˆè´¹è®°å½•
- ä¸Šä¼ å‡­è¯ç…§ç‰‡
- è‡ªå®šä¹‰åˆ†æ‘Šæ–¹å¼ï¼ˆå¹³å‡/è‡ªå®šä¹‰/ç™¾åˆ†æ¯”ï¼‰

### æ™ºèƒ½åˆ†æ
- AIè§£æè‡ªç„¶è¯­è¨€æè¿°
- è‡ªåŠ¨è¯†åˆ«å‚ä¸è€…å’Œé‡‘é¢
- æ™ºèƒ½æ¶ˆè´¹åˆ†ç±»

### ç»“ç®—åŠŸèƒ½
- å®æ—¶è®¡ç®—æ¯äººä½™é¢
- ä¼˜åŒ–å€ºåŠ¡å…³ç³»ï¼Œå‡å°‘äº¤æ˜“æ¬¡æ•°
- ä¸€é”®ç”Ÿæˆç»“ç®—æ–¹æ¡ˆ

## APIæ–‡æ¡£

è¯¦ç»†çš„APIæ–‡æ¡£è¯·æŸ¥çœ‹ [API.md](./docs/API.md)

## å¼€å‘æŒ‡å—

### è¿è¡Œæµ‹è¯•
```bash
# å‰ç«¯æµ‹è¯•
cd frontend
npm run test

# åç«¯æµ‹è¯•
cd backend
npm run test
```

### ä»£ç è§„èŒƒ
```bash
# è¿è¡Œä»£ç æ£€æŸ¥
npm run lint

# è‡ªåŠ¨ä¿®å¤æ ¼å¼é—®é¢˜
npm run lint:fix
```

### æ„å»ºéƒ¨ç½²
```bash
# æ„å»ºå‰ç«¯
cd frontend
npm run build

# æ„å»ºåç«¯
cd backend
npm run build
```

## Dockeréƒ¨ç½²

```bash
# ä½¿ç”¨Docker Composeå¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f
```

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## é¡¹ç›®æˆªå›¾

### ç§»åŠ¨ç«¯ç•Œé¢
- ğŸ“± å®Œç¾é€‚é…æ‰‹æœºå±å¹•
- ğŸ‘† æ”¯æŒæ‰‹åŠ¿æ“ä½œ
- ğŸ¨ ç²¾ç¾çš„UIè®¾è®¡

## ç‰¹è‰²åŠŸèƒ½

### ğŸ¤– AIæ™ºèƒ½è§£æ
åŸºäºæ¨¡å—åŒ–æ„å›¾è¯†åˆ«æ¶æ„ï¼Œæ”¯æŒå¤æ‚åœºæ™¯ï¼š

**æ”¯æŒçš„æ„å›¾ç±»å‹ï¼š**
- **è´¹ç”¨è®°å½•**: "æ˜¨æ™šåƒé¥­èŠ±äº†300å…ƒï¼Œæˆ‘å’Œå¼ ä¸‰æå››ä¸€èµ·"
- **æˆå‘˜ç®¡ç†**: "æ·»åŠ å°æ˜å’Œå°çº¢ä¸¤ä¸ªæˆå‘˜"
- **æ··åˆæ„å›¾**: "å’Œæ–°æœ‹å‹ç‹äº”ä¸€èµ·æ‰“è½¦50å…ƒ" (è‡ªåŠ¨è¯†åˆ«æ–°æˆå‘˜+è®°è´¦)
- **ç»“ç®—æŸ¥è¯¢**: "çœ‹çœ‹è°æ¬ è°é’±"

**AIè‡ªåŠ¨è¯†åˆ«ï¼š**
- æ¶ˆè´¹é‡‘é¢å’Œç±»å‹
- å‚ä¸äººå‘˜ï¼ˆåŒ…æ‹¬è™šæ‹Ÿæˆå‘˜ï¼‰
- æ¶ˆè´¹ç±»åˆ«å’Œåˆ†æ‘Šæ–¹å¼
- å¤æ‚è¯­å¢ƒä¸‹çš„å¤šé‡æ„å›¾

### ğŸ“Š å¯è§†åŒ–ç»Ÿè®¡
- é¥¼å›¾å±•ç¤ºæ”¯å‡ºåˆ†ç±»å æ¯”
- æŸ±çŠ¶å›¾å¯¹æ¯”æˆå‘˜æ”¯ä»˜æƒ…å†µ
- å®æ—¶ä½™é¢è®¡ç®—
- å€ºåŠ¡å…³ç³»æ¸…æ™°å±•ç¤º

### ğŸ’° æ™ºèƒ½ç»“ç®—
- ä¼˜åŒ–å€ºåŠ¡å…³ç³»ï¼Œå‡å°‘äº¤æ˜“æ¬¡æ•°
- ä¸€é”®ç”Ÿæˆç»“ç®—æ–¹æ¡ˆ
- æ”¯æŒå¤šç§ç»“ç®—æ–¹å¼

## é¡¹ç›®æ¶æ„

```
TripSum/
â”œâ”€â”€ frontend/          # Reactå‰ç«¯åº”ç”¨
â”œâ”€â”€ backend/           # Expressåç«¯æœåŠ¡
â”œâ”€â”€ database/          # æ•°æ®åº“ç›¸å…³
â”œâ”€â”€ docker/            # Dockeré…ç½®
â”œâ”€â”€ docs/              # é¡¹ç›®æ–‡æ¡£
â””â”€â”€ scripts/           # è‡ªåŠ¨åŒ–è„šæœ¬
```

## è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

### å¼€å‘è§„èŒƒ
- ä½¿ç”¨ TypeScript è¿›è¡Œç±»å‹å®‰å…¨å¼€å‘
- éµå¾ª ESLint ä»£ç è§„èŒƒ
- æäº¤å‰è¿è¡Œæµ‹è¯•
- ä¿æŒä»£ç ç®€æ´å¯è¯»

## æŠ€æœ¯æ”¯æŒ

é‡åˆ°é—®é¢˜ï¼Ÿ
- ğŸ“– æŸ¥çœ‹[å¼€å‘æ–‡æ¡£](./DEVELOPMENT.md)
- ğŸ› æäº¤[Issue](https://github.com/bladebump/TripSum/issues)
- ğŸ’¬ åŠ å…¥è®¨è®º

## æ›´æ–°æ—¥å¿—

### v1.2.0 (2025-08-27)
- ğŸ¨ **é‡å¤§ç•Œé¢ä¼˜åŒ–**: TripDetailé¡µé¢æ“ä½œæŒ‰é’®ç½‘æ ¼åŒ–ï¼Œæå‡ç”¨æˆ·ä½“éªŒ
- ğŸ¤– **æ¨¡å—åŒ–AIæ¶æ„**: å®ç°æ„å›¾ä¼˜å…ˆçš„è§£æç³»ç»Ÿï¼Œæ”¯æŒå¤æ‚åœºæ™¯
- ğŸ‘¥ **è™šæ‹Ÿæˆå‘˜æ”¯æŒ**: å…è®¸æ·»åŠ æœªæ³¨å†Œç”¨æˆ·å‚ä¸è´¹ç”¨è®¡ç®—
- ğŸ›¡ï¸ **æƒé™ç®¡ç†å®Œå–„**: åŸºäºè§’è‰²çš„åŠŸèƒ½æ˜¾ç¤ºå’Œç®¡ç†å‘˜æ“ä½œç¡®è®¤
- ğŸ› **ä»£ç è´¨é‡æå‡**: ä¿®å¤æ‰€æœ‰TypeScriptè­¦å‘Šï¼Œç¡®ä¿ç±»å‹å®‰å…¨
- ğŸ—‘ï¸ **åˆ é™¤åŠŸèƒ½**: ç®¡ç†å‘˜å¯å®‰å…¨åˆ é™¤è¡Œç¨‹ï¼Œå«ç¡®è®¤å¯¹è¯æ¡†

### v1.1.0 (2024-08-27)
- âœ¨ AIæ™ºèƒ½è®°è´¦å¯¹è¯åŠŸèƒ½
- ğŸ“Š æˆå‘˜çœ‹æ¿æ•°æ®å¯è§†åŒ–
- âš¡ å®æ—¶WebSocketé€šä¿¡
- ğŸ” JWTè®¤è¯ç³»ç»Ÿå®Œå–„

### v1.0.0 (2024-08-26)
- ğŸ‰ é¦–æ¬¡å‘å¸ƒ
- âœ¨ æ ¸å¿ƒåŠŸèƒ½å®Œæˆ
- ğŸ“± ç§»åŠ¨ç«¯é€‚é…
- ğŸ¤– AIæ™ºèƒ½é›†æˆ

## è”ç³»æ–¹å¼

- é¡¹ç›®ä¸»é¡µ: [https://github.com/bladebump/TripSum](https://github.com/bladebump/TripSum)
- Issueè¿½è¸ª: [https://github.com/bladebump/TripSum/issues](https://github.com/bladebump/TripSum/issues)

## Star History

[![Star History Chart](https://api.star-history.com/svg?repos=bladebump/TripSum&type=Date)](https://star-history.com/#bladebump/TripSum&Date)

## è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼

ç‰¹åˆ«æ„Ÿè°¢ï¼š
- Reactå›¢é˜Ÿæä¾›çš„ä¼˜ç§€æ¡†æ¶
- Ant Designå›¢é˜Ÿçš„ç²¾ç¾ç»„ä»¶
- OpenAIæä¾›çš„å¼ºå¤§AIèƒ½åŠ›

---

Made with â¤ï¸ by [bladebump](https://github.com/bladebump)